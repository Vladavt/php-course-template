<h1>üßô‚Äç‚ôÇÔ∏è –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ö–æ–±–±–∏—Ç–æ–≤ –∫ –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—é</h1>

<?php
$hobbits = [
    "–§–æ—á–∫–∞", "–ë–æ–±–æ", "–†–∞–∑—É–º", "–ì–æ–ª—É–±—å", 
    "–ê–Ω—Ö–æ–ª–∏", "–ö–∞–π–∑–µ—Ä", "–°–∫–≤–∞–¥—Ä–æ–Ω", "–í–æ–π–¥",
    "–≠–ª", "–Ø–¥–∞–Ω—è", "–ì–æ—à–∞", "–õ—é–∫—Å–µ—Ä–∏",
    "–•–∞–∫—É—Ä–µ–π", "–û—Ç–µ—Ü –ë–µ–∑–¥–Ω—ã", "–õ–æ–¥–∞–∏—Ä", "–ö–∞–∫–æ–π-—Ç–æ –ù–ù"
];

$partySize = rand(2, 5);
shuffle($hobbits);
//Shuffle –≤ PHP ‚Äî —ç—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞ –≤ —Å–ª—É—á–∞–π–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ.
//–≠—Ç–æ —è —Å–µ–±–µ –Ω–∞–ø–∏—Å–∞–ª —á—Ç–æ–± –±–∞–Ω–∞–ª—å–Ω–æ –Ω–µ –∑–∞–±—ã—Ç—å, —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ —É –∫–æ–ª–∏ —è –∑–∞–ø–∏—Å–∞–ª!
$partyHobbits = array_slice($hobbits, 0, $partySize);
$hobbitsList = implode(", ", $partyHobbits);
$hobbitsCount = count($partyHobbits);
?>

<div class="block">
    –í –ø–æ—Ö–æ–¥ –æ—Ç–ø—Ä–∞–≤—è—Ç—Å—è <?php echo $hobbitsCount; ?> —Ö–æ–±–±–∏—Ç–æ–≤: <?php echo $hobbitsList; ?><br> 
</div>

<?php
$transports = [
    "–õ–æ—à–∞–¥—å", "–ü–æ–≤–æ–∑–∫–∞", "–õ–æ–¥–∫–∞", 
    "–û—Å–µ–ª", "–¢–µ–ª–µ–≥–∞", "–ù–µ—Ç —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞"
];

$randomIndex = rand(0, count($transports) - 1);
$transport = $transports[$randomIndex];     
?>

<div class="block">
    <h2> –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç:</h2>
    <p>–í—ã–±—Ä–∞–Ω–Ω—ã–π —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç: <?php echo $transport; ?></p>
</div>

<?php

$allSupplies = ["–ü–∏–≤–æ", "–ú—ë–¥", "–ì—Ä–∏–±—ã", "–†—ã–±–∞", "–ó–∞–ø–∞—Å–∞–Ω–æ–µ –∫–æ–ª–µ—Å–æ", "–Ø—á–º–µ–Ω—å", "–ö—É–∫—É—Ä—É–∑–∞", "–í–æ–ª—à–µ–±–Ω–æ–µ –∫–æ–ª—å—Ü–æ", "–ó–µ–ª—å–µ –∑–¥–æ—Ä–æ–≤—å—è"];

$numSupplies = rand(2, 6);
shuffle($allSupplies);
$supplies = array_slice($allSupplies, 0, $numSupplies);
?>

<div class="block">
    <h2> –ü—Ä–∏–ø–∞—Å—ã:</h2>
    <ul>
        <?php foreach ($supplies as $item): ?>
            <li><?php echo $item; ?></li>
        <?php endforeach; ?>
    </ul>
</div>

<?php
$nazgulDays = 5;
$delayDays = count($supplies);
?>

<?php
$partyEvents = [
    "{hobbit} –ø–æ—Ç–µ—Ä—è–ª —Å–≤–æ–π –ø–ª–∞—â",
    "–í—Å—Ç—Ä–µ—Ç–∏–ª–∏ –¥—Ä—É–∂–µ–ª—é–±–Ω—ã—Ö —ç–ª—å—Ñ–æ–≤", 
    "{hobbit} –∑–∞–±—ã–ª —Ç—Ä—É–±–∫—É –¥–æ–º–∞",
    "–ù–æ—á—å—é –Ω–∞–ø–∞–ª–∏ –≤–æ–ª–∫–∏",
    "–ù–∞—à–ª–∏ –∑–æ–ª–æ—Ç–æ–µ –∫–æ–ª—å—Ü–æ",
    "–ó–∞–±–ª—É–¥–∏–ª–∏—Å—å –≤ –ª–µ—Å—É",
    "{hobbit} —Å–ø–µ–ª —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –ø–µ—Å–µ–Ω"
];

$numEvents = rand(1, 3);
shuffle($partyEvents);
$events = array_slice($partyEvents, 0, $numEvents);
//foreach –≤ PHP ‚Äî —ç—Ç–æ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –º–∞—Å—Å–∏–≤–∞. 
//–û–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å –º–∞—Å—Å–∏–≤–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏, —Å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∏–ª–∏ –Ω–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –æ—à–∏–±–∫—É.
//–≠—Ç–æ —è —Å–µ–±–µ –Ω–∞–ø–∏—Å–∞–ª —á—Ç–æ–± –±–∞–Ω–∞–ª—å–Ω–æ –Ω–µ –∑–∞–±—ã—Ç—å, —Å–ø—Ä–∞—à–∏–≤–∞–ª–∏ —É –∫–æ–ª–∏ —è –∑–∞–ø–∏—Å–∞–ª!
foreach ($events as &$event) {
    if (strpos($event, '{hobbit}') !== false) {
        $randomHobbit = $partyHobbits[array_rand($partyHobbits)];
        $event = str_replace('{hobbit}', $randomHobbit, $event);
    }
}

$delayDays = count($supplies) + count($events);
?>

<div class="block">
    <h2>üìú –°–æ–±—ã—Ç–∏—è –≤ –ø—É—Ç–∏:</h2>
    <ul>
        <?php foreach ($events as $event): ?>
            <li><?php echo $event; ?></li>
        <?php endforeach; ?>
    </ul>
    <p>–í—Å–µ–≥–æ –¥–Ω–µ–π –∑–∞–¥–µ—Ä–∂–∫–∏: <?php echo $delayDays; ?> (–ø—Ä–∏–ø–∞—Å—ã: <?php echo count($supplies); ?> –¥–Ω–µ–π + —Å–æ–±—ã—Ç–∏—è: <?php echo count($events); ?> –¥–Ω–µ–π)</p>
</div>

<div class="block">
    <h2>–ü—Ä–æ–≤—Ä–µ–∫–∞ –Ω–∞–∑–≥—É–ª–æ–≤:</h2>
    <p>–ù–∞–∑–≥—É–ª—ã –ø—Ä–∏–±—É–¥—É—Ç —á–µ—Ä–µ–∑: <?php echo $nazgulDays; ?> –¥–Ω–µ–π</p>
    <p>–•–æ–±–±–∏—Ç—ã —Å–æ–±–∏—Ä–∞–ª–∏—Å—å: <?php echo $delayDays; ?> –¥–Ω–µ–π</p>
    
    <?php if ($delayDays < $nazgulDays): ?>
        <p>‚ú® –•–æ–±–±–∏—Ç—ã —É—Å–ø–µ–ª–∏ –≤—ã–π—Ç–∏ –≤ –ø—É—Ç—å —Ä–∞–Ω—å—à–µ –Ω–∞–∑–≥—É–ª–æ–≤!</p>
    <?php elseif ($delayDays == $nazgulDays): ?>
        <p>‚ú® –•–æ–±–±–∏—Ç—ã —É—Å–ø–µ–ª–∏ –æ—Ç –Ω–∞–∑–≥—É–ª–æ–≤ –≤ —Å–∞–º—ã–π –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–æ–º–µ–Ω—Ç</p>
    <?php else: ?>
        <p>‚öîÔ∏è –ù–∞–∑–≥—É–ª—ã –Ω–∞—Å—Ç–∏–≥–ª–∏ —Ö–æ–±–±–∏—Ç–æ–≤! –•–æ–±–±–∏—Ç—ã —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ —Å–æ–±–∏—Ä–∞–ª–∏—Å—å –∏ –æ–ø–∞–∑–¥–∞–ª–∏ –Ω–∞ –æ–ø–æ–∑–¥–∞–ª–∏ –Ω–∞ —Å—Ç–æ–ª—å–∫–æ –¥–Ω–µ–π: <?php echo ($delayDays - $nazgulDays); ?> –¥–Ω–µ–π</p>
    <?php endif; ?>
</div>
